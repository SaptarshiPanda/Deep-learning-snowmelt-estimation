/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var ice = 
    /* color: #ffffff */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([88.40984448695988, 27.827379762258623]),
            {
              "snow": 1,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([88.37139233852238, 27.79640608243165]),
            {
              "snow": 1,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([88.33706006313176, 27.708295444076633]),
            {
              "snow": 1,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([88.24848279262395, 27.797620902920677]),
            {
              "snow": 1,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([88.64261731410832, 27.840738229977607]),
            {
              "snow": 1,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([88.40057477260441, 27.883231500724165]),
            {
              "snow": 1,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([88.38134869838566, 27.9866778930605]),
            {
              "snow": 1,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([88.52348431850285, 27.99759158543575]),
            {
              "snow": 1,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([88.50906476283879, 27.981827008462272]),
            {
              "snow": 1,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([88.46305951381535, 27.93694598452078]),
            {
              "snow": 1,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([88.47747906947941, 27.963027769779373]),
            {
              "snow": 1,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([88.39267834926457, 27.98000787047852]),
            {
              "snow": 1,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Point([88.35731610561223, 27.95483998076278]),
            {
              "snow": 1,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Point([88.35285290981145, 27.948471271076947]),
            {
              "snow": 1,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Point([88.53309735561223, 27.97364064590051]),
            {
              "snow": 1,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Point([88.69937732418336, 27.973906699348852]),
            {
              "snow": 1,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Point([88.66470172603883, 27.983305780334337]),
            {
              "snow": 1,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Point([88.65852191646852, 27.97178421286928]),
            {
              "snow": 1,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Point([88.65131213863648, 27.944188089467996]),
            {
              "snow": 1,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Point([88.63345935543336, 27.976029144068885]),
            {
              "snow": 1,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Point([88.59329059322633, 27.97117778049101]),
            {
              "snow": 1,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Point([88.59088733394898, 27.96268736930141]),
            {
              "snow": 1,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Point([88.61491992672242, 27.923258855052715]),
            {
              "snow": 1,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Point([88.60427692135133, 27.925685640690915]),
            {
              "snow": 1,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Point([88.74366595943727, 27.96056466212755]),
            {
              "snow": 1,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Point([88.72855975826539, 27.95753215089104]),
            {
              "snow": 1,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Point([88.7124235888318, 27.93448228190285]),
            {
              "snow": 1,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Point([88.71517017086305, 27.956925638420675]),
            {
              "snow": 1,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Point([88.69766071041383, 27.9335723177398]),
            {
              "snow": 1,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Point([88.70933368404664, 28.024530775652952]),
            {
              "snow": 1,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Point([88.69937732418336, 28.00846702836262]),
            {
              "snow": 1,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Point([88.71311023433961, 28.00846702836262]),
            {
              "snow": 1,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Point([88.63232574804309, 28.05834886752109]),
            {
              "snow": 1,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Point([88.6275192294884, 28.065014038242495]),
            {
              "snow": 1,
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Point([88.60177002294543, 28.060166682345546]),
            {
              "snow": 1,
              "system:index": "34"
            }),
        ee.Feature(
            ee.Geometry.Point([88.55507812841418, 28.030774907957213]),
            {
              "snow": 1,
              "system:index": "35"
            }),
        ee.Feature(
            ee.Geometry.Point([88.54683838232043, 28.053804195968922]),
            {
              "snow": 1,
              "system:index": "36"
            }),
        ee.Feature(
            ee.Geometry.Point([88.75626526220324, 28.01228730819458]),
            {
              "snow": 1,
              "system:index": "37"
            }),
        ee.Feature(
            ee.Geometry.Point([88.82115326269152, 27.986823779569878]),
            {
              "snow": 1,
              "system:index": "38"
            }),
        ee.Feature(
            ee.Geometry.Point([88.80124054296496, 27.971664061203143]),
            {
              "snow": 1,
              "system:index": "39"
            }),
        ee.Feature(
            ee.Geometry.Point([88.79643402441027, 27.96772218542498]),
            {
              "snow": 1,
              "system:index": "40"
            }),
        ee.Feature(
            ee.Geometry.Point([88.79643402441027, 27.963173688276886]),
            {
              "snow": 1,
              "system:index": "41"
            }),
        ee.Feature(
            ee.Geometry.Point([88.82252655370715, 27.95771523865113]),
            {
              "snow": 1,
              "system:index": "42"
            }),
        ee.Feature(
            ee.Geometry.Point([88.75145874364856, 27.883695705762236]),
            {
              "snow": 1,
              "system:index": "43"
            }),
        ee.Feature(
            ee.Geometry.Point([88.78235779150012, 27.901901927973395]),
            {
              "snow": 1,
              "system:index": "44"
            }),
        ee.Feature(
            ee.Geometry.Point([88.82149658544543, 27.907363197445655]),
            {
              "snow": 1,
              "system:index": "45"
            }),
        ee.Feature(
            ee.Geometry.Point([88.7761779819298, 27.83634520348344]),
            {
              "snow": 1,
              "system:index": "46"
            }),
        ee.Feature(
            ee.Geometry.Point([88.74184570653918, 27.82936229051171]),
            {
              "snow": 1,
              "system:index": "47"
            }),
        ee.Feature(
            ee.Geometry.Point([88.6827941928673, 27.768014805904045]),
            {
              "snow": 1,
              "system:index": "48"
            }),
        ee.Feature(
            ee.Geometry.Point([88.61927948339465, 27.747963075419975]),
            {
              "snow": 1,
              "system:index": "49"
            }),
        ee.Feature(
            ee.Geometry.Point([88.53585205419543, 27.67258418892721]),
            {
              "snow": 1,
              "system:index": "50"
            }),
        ee.Feature(
            ee.Geometry.Point([88.51147613866809, 27.670759861056922]),
            {
              "snow": 1,
              "system:index": "51"
            }),
        ee.Feature(
            ee.Geometry.Point([88.50014648778918, 27.664678548179243]),
            {
              "snow": 1,
              "system:index": "52"
            }),
        ee.Feature(
            ee.Geometry.Point([88.46718750341418, 27.699033519347864]),
            {
              "snow": 1,
              "system:index": "53"
            }),
        ee.Feature(
            ee.Geometry.Point([88.49945984228137, 27.602021342044473]),
            {
              "snow": 1,
              "system:index": "54"
            }),
        ee.Feature(
            ee.Geometry.Point([88.41500244482043, 27.64369542151501]),
            {
              "snow": 1,
              "system:index": "55"
            }),
        ee.Feature(
            ee.Geometry.Point([88.51662597997668, 27.6144948099214]),
            {
              "snow": 1,
              "system:index": "56"
            }),
        ee.Feature(
            ee.Geometry.Point([88.55851135595324, 27.60993151080514]),
            {
              "snow": 1,
              "system:index": "57"
            }),
        ee.Feature(
            ee.Geometry.Point([88.55851135595324, 27.59441487205439]),
            {
              "snow": 1,
              "system:index": "58"
            }),
        ee.Feature(
            ee.Geometry.Point([88.731546023922, 27.562766292881772]),
            {
              "snow": 1,
              "system:index": "59"
            }),
        ee.Feature(
            ee.Geometry.Point([88.74939880712512, 27.57950465982903]),
            {
              "snow": 1,
              "system:index": "60"
            }),
        ee.Feature(
            ee.Geometry.Point([88.76862488134387, 27.57980897013838]),
            {
              "snow": 1,
              "system:index": "61"
            }),
        ee.Feature(
            ee.Geometry.Point([88.76004181249621, 27.584982116224356]),
            {
              "snow": 1,
              "system:index": "62"
            }),
        ee.Feature(
            ee.Geometry.Point([88.80938509217378, 27.65972893647115]),
            {
              "snow": 1,
              "system:index": "63"
            }),
        ee.Feature(
            ee.Geometry.Point([88.79771211854097, 27.66246569307191]),
            {
              "snow": 1,
              "system:index": "64"
            }),
        ee.Feature(
            ee.Geometry.Point([88.81659487000582, 27.635399200364954]),
            {
              "snow": 1,
              "system:index": "65"
            }),
        ee.Feature(
            ee.Geometry.Point([88.82861116639253, 27.657296206417975]),
            {
              "snow": 1,
              "system:index": "66"
            }),
        ee.Feature(
            ee.Geometry.Point([88.83032778016207, 27.708068211963944]),
            {
              "snow": 1,
              "system:index": "67"
            }),
        ee.Feature(
            ee.Geometry.Point([88.80354860535738, 27.705028636604396]),
            {
              "snow": 1,
              "system:index": "68"
            }),
        ee.Feature(
            ee.Geometry.Point([88.78912904969332, 27.77947384073559]),
            {
              "snow": 1,
              "system:index": "69"
            }),
        ee.Feature(
            ee.Geometry.Point([88.8433740448105, 27.761550871375345]),
            {
              "snow": 1,
              "system:index": "70"
            }),
        ee.Feature(
            ee.Geometry.Point([88.24702242127535, 27.580028900447825]),
            {
              "snow": 1,
              "system:index": "71"
            }),
        ee.Feature(
            ee.Geometry.Point([88.26899507752535, 27.531937501019463]),
            {
              "snow": 1,
              "system:index": "72"
            }),
        ee.Feature(
            ee.Geometry.Point([88.32530000916597, 27.545940967828255]),
            {
              "snow": 1,
              "system:index": "73"
            }),
        ee.Feature(
            ee.Geometry.Point([88.35757234803316, 27.525848480609586]),
            {
              "snow": 1,
              "system:index": "74"
            }),
        ee.Feature(
            ee.Geometry.Point([88.30126741639253, 27.517932249896443]),
            {
              "snow": 1,
              "system:index": "75"
            }),
        ee.Feature(
            ee.Geometry.Point([88.12411287537691, 27.617148347555016]),
            {
              "snow": 1,
              "system:index": "76"
            }),
        ee.Feature(
            ee.Geometry.Point([88.754676430794, 27.96022368139685]),
            {
              "snow": 1,
              "system:index": "77"
            }),
        ee.Feature(
            ee.Geometry.Point([88.76514777478815, 27.960375305201293]),
            {
              "snow": 1,
              "system:index": "78"
            }),
        ee.Feature(
            ee.Geometry.Point([88.7430034571612, 27.944908580166363]),
            {
              "snow": 1,
              "system:index": "79"
            }),
        ee.Feature(
            ee.Geometry.Point([88.73939856824518, 27.935354496271813]),
            {
              "snow": 1,
              "system:index": "80"
            })]),
    not_ice = 
    /* color: #000000 */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([88.17629793397066, 27.597068896018328]),
            {
              "snow": 0,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([88.47155550233003, 27.548984963573997]),
            {
              "snow": 0,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([88.44649294129488, 27.57089924225754]),
            {
              "snow": 0,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([88.44134309998628, 27.559333918060037]),
            {
              "snow": 0,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([88.42829683533785, 27.508188414455184]),
            {
              "snow": 0,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([88.57729891053316, 27.434777444313315]),
            {
              "snow": 0,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([88.60339143983003, 27.457019124797117]),
            {
              "snow": 0,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([88.58004549256441, 27.409178730705168]),
            {
              "snow": 0,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([88.73522737733003, 27.423197808896752]),
            {
              "snow": 0,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([88.70123842469332, 27.412531280829423]),
            {
              "snow": 0,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([88.76372316590425, 27.421674082242046]),
            {
              "snow": 0,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([88.71600130311128, 27.468595210869033]),
            {
              "snow": 0,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Point([88.71840456238863, 27.551420099431752]),
            {
              "snow": 0,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Point([88.74106386414644, 27.564812381429096]),
            {
              "snow": 0,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Point([88.75960329285738, 27.536199614616137]),
            {
              "snow": 0,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Point([88.72115114441988, 27.588549229242222]),
            {
              "snow": 0,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Point([88.73179414979097, 27.584593444623714]),
            {
              "snow": 0,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Point([88.7002084564316, 27.583984849709424]),
            {
              "snow": 0,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Point([88.61334779969332, 27.574551196700384]),
            {
              "snow": 0,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Point([88.5797021698105, 27.583376251417867]),
            {
              "snow": 0,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Point([88.6016748260605, 27.595851841301517]),
            {
              "snow": 0,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Point([88.35434637247407, 27.618973569747716]),
            {
              "snow": 0,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Point([88.36842260538423, 27.582463347648247]),
            {
              "snow": 0,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Point([88.41442785440766, 27.575464166318728]),
            {
              "snow": 0,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Point([88.40206823526704, 27.612585158989138]),
            {
              "snow": 0,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Point([88.44453671392638, 27.653455996272072]),
            {
              "snow": 0,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Point([88.44453671392638, 27.62517054489013]),
            {
              "snow": 0,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Point([88.49019864019591, 27.65284778393945]),
            {
              "snow": 0,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Point([88.49809506353576, 27.63977040062887]),
            {
              "snow": 0,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Point([88.24952938970763, 27.668660204996982]),
            {
              "snow": 0,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Point([88.21760037359435, 27.655280612972014]),
            {
              "snow": 0,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Point([88.22721341070373, 27.65102312664428]),
            {
              "snow": 0,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Point([88.21245053228576, 27.709397052129486]),
            {
              "snow": 0,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Point([88.19562771734435, 27.732494775436045]),
            {
              "snow": 0,
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Point([88.22378018316466, 27.73067144887284]),
            {
              "snow": 0,
              "system:index": "34"
            }),
        ee.Feature(
            ee.Geometry.Point([88.20438244756896, 27.751334030128287]),
            {
              "snow": 0,
              "system:index": "35"
            }),
        ee.Feature(
            ee.Geometry.Point([88.2727036755963, 27.77062569532193]),
            {
              "snow": 0,
              "system:index": "36"
            }),
        ee.Feature(
            ee.Geometry.Point([88.26446392950255, 27.762727159166047]),
            {
              "snow": 0,
              "system:index": "37"
            }),
        ee.Feature(
            ee.Geometry.Point([88.28248837408263, 27.766220813171415]),
            {
              "snow": 0,
              "system:index": "38"
            }),
        ee.Feature(
            ee.Geometry.Point([88.2998261731549, 27.767587864644682]),
            {
              "snow": 0,
              "system:index": "39"
            }),
        ee.Feature(
            ee.Geometry.Point([88.29147894201836, 27.796140124003728]),
            {
              "snow": 0,
              "system:index": "40"
            }),
        ee.Feature(
            ee.Geometry.Point([88.30006201086601, 27.810109773923326]),
            {
              "snow": 0,
              "system:index": "41"
            }),
        ee.Feature(
            ee.Geometry.Point([88.2799776297625, 27.82119310930784]),
            {
              "snow": 0,
              "system:index": "42"
            }),
        ee.Feature(
            ee.Geometry.Point([88.26984960852226, 27.817093925295804]),
            {
              "snow": 0,
              "system:index": "43"
            }),
        ee.Feature(
            ee.Geometry.Point([88.25028021154961, 27.83018483900757]),
            {
              "snow": 0,
              "system:index": "44"
            }),
        ee.Feature(
            ee.Geometry.Point([88.24478704748711, 27.844453682601102]),
            {
              "snow": 0,
              "system:index": "45"
            }),
        ee.Feature(
            ee.Geometry.Point([88.21302969275078, 27.820468808068533]),
            {
              "snow": 0,
              "system:index": "46"
            }),
        ee.Feature(
            ee.Geometry.Point([88.24135381994805, 27.85720297618167]),
            {
              "snow": 0,
              "system:index": "47"
            }),
        ee.Feature(
            ee.Geometry.Point([88.25131017981133, 27.864791129660993]),
            {
              "snow": 0,
              "system:index": "48"
            }),
        ee.Feature(
            ee.Geometry.Point([88.25628835974297, 27.874654934917718]),
            {
              "snow": 0,
              "system:index": "49"
            }),
        ee.Feature(
            ee.Geometry.Point([88.22521765051445, 27.893166113806448]),
            {
              "snow": 0,
              "system:index": "50"
            }),
        ee.Feature(
            ee.Geometry.Point([88.21079809485039, 27.901583671340152]),
            {
              "snow": 0,
              "system:index": "51"
            }),
        ee.Feature(
            ee.Geometry.Point([88.23517401037773, 27.92464055695565]),
            {
              "snow": 0,
              "system:index": "52"
            }),
        ee.Feature(
            ee.Geometry.Point([88.21131307898125, 27.925247250718165]),
            {
              "snow": 0,
              "system:index": "53"
            }),
        ee.Feature(
            ee.Geometry.Point([88.23798112593968, 27.90476945473825]),
            {
              "snow": 0,
              "system:index": "54"
            }),
        ee.Feature(
            ee.Geometry.Point([88.24828080855687, 27.91811838397308]),
            {
              "snow": 0,
              "system:index": "55"
            }),
        ee.Feature(
            ee.Geometry.Point([88.26137343748793, 27.899920646814405]),
            {
              "snow": 0,
              "system:index": "56"
            }),
        ee.Feature(
            ee.Geometry.Point([88.28506270750746, 27.886721199336492]),
            {
              "snow": 0,
              "system:index": "57"
            }),
        ee.Feature(
            ee.Geometry.Point([88.29467574461684, 27.893700418075586]),
            {
              "snow": 0,
              "system:index": "58"
            }),
        ee.Feature(
            ee.Geometry.Point([88.28643599852309, 27.911753265586754]),
            {
              "snow": 0,
              "system:index": "59"
            }),
        ee.Feature(
            ee.Geometry.Point([88.3068118983233, 27.936416102873995]),
            {
              "snow": 0,
              "system:index": "60"
            }),
        ee.Feature(
            ee.Geometry.Point([88.3090434962237, 27.928832969752655]),
            {
              "snow": 0,
              "system:index": "61"
            }),
        ee.Feature(
            ee.Geometry.Point([88.32741126355768, 27.925799567516318]),
            {
              "snow": 0,
              "system:index": "62"
            }),
        ee.Feature(
            ee.Geometry.Point([88.31814154920221, 27.94111737815666]),
            {
              "snow": 0,
              "system:index": "63"
            }),
        ee.Feature(
            ee.Geometry.Point([88.32741126355768, 27.969775565075707]),
            {
              "snow": 0,
              "system:index": "64"
            }),
        ee.Feature(
            ee.Geometry.Point([88.34337577161432, 27.947941445963835]),
            {
              "snow": 0,
              "system:index": "65"
            }),
        ee.Feature(
            ee.Geometry.Point([88.35676535901666, 27.964620685248793]),
            {
              "snow": 0,
              "system:index": "66"
            }),
        ee.Feature(
            ee.Geometry.Point([88.4990726405108, 27.971594875629407]),
            {
              "snow": 0,
              "system:index": "67"
            }),
        ee.Feature(
            ee.Geometry.Point([88.49769934949518, 27.966743312648003]),
            {
              "snow": 0,
              "system:index": "68"
            }),
        ee.Feature(
            ee.Geometry.Point([88.56550559339166, 27.963256117016694]),
            {
              "snow": 0,
              "system:index": "69"
            }),
        ee.Feature(
            ee.Geometry.Point([88.56413230237604, 27.9538552892893]),
            {
              "snow": 0,
              "system:index": "70"
            }),
        ee.Feature(
            ee.Geometry.Point([88.61357077893854, 27.93914590052604]),
            {
              "snow": 0,
              "system:index": "71"
            }),
        ee.Feature(
            ee.Geometry.Point([88.63211020764948, 27.94339211533029]),
            {
              "snow": 0,
              "system:index": "72"
            }),
        ee.Feature(
            ee.Geometry.Point([88.58267173108698, 27.930046306810347]),
            {
              "snow": 0,
              "system:index": "73"
            }),
        ee.Feature(
            ee.Geometry.Point([88.73939856824518, 27.913968485465222]),
            {
              "snow": 0,
              "system:index": "74"
            }),
        ee.Feature(
            ee.Geometry.Point([88.77853736219049, 27.928832969752655]),
            {
              "snow": 0,
              "system:index": "75"
            }),
        ee.Feature(
            ee.Geometry.Point([88.79690512952448, 27.923827810413105]),
            {
              "snow": 0,
              "system:index": "76"
            }),
        ee.Feature(
            ee.Geometry.Point([88.75313147840143, 27.951277499967933]),
            {
              "snow": 0,
              "system:index": "77"
            })]);
/***** End of imports. If edited, may not auto-convert in the playground. *****/
var loc = ee.FeatureCollection("users/rituanilkumar/north_sikkim_bound");

function maskS2clouds(image) {
  var qa = image.select('QA60');

  // Bits 10 and 11 are clouds and cirrus, respectively.
  var cloudBitMask = 1 << 10;
  var cirrusBitMask = 1 << 11;

  // Both flags should be set to zero, indicating clear conditions.
  var mask = qa.bitwiseAnd(cloudBitMask).eq(0)
      .and(qa.bitwiseAnd(cirrusBitMask).eq(0));

  return image.updateMask(mask).divide(10000);
}

// Map the function over one month of data and take the median.
// Load Sentinel-2 TOA reflectance data.
var im_col = ee.ImageCollection('COPERNICUS/S2')
                  .filterDate('2018-01-16', '2018-01-31');
                  // Pre-filter to get less cloudy granules.
                  //.map(maskS2clouds);

    
var im = ee.Image(im_col.filterBounds(loc).mean());              

//visualising in true color composite
var rgbVis = {
  min: 0.0,
  max: 10000,
  bands: ['B4', 'B3', 'B2'],
};

Map.setCenter(88.5, 27.63, 9);
//Map.addLayer(im, rgbVis, 'RGB');

//visualising in false color composite
var fccVis = {
  min: 0.0,
  max: 10000,
  bands: ['B8', 'B4', 'B3'],
};

//Map.addLayer(im, fccVis, 'FCC');

//visualising in fcc to distinguish clouds
var stfccVis = {
  min: 0.0,
  max: 10000,
  bands: ['B12', 'B11', 'B2'],
};

Map.addLayer(im.clip(loc), stfccVis, 'stFCC');
im=im.clip(loc);

// Merge the three geometry layers into a single FeatureCollection.
var snowcover = ice.merge(not_ice);

// Use these bands for classification.
var bands = ['B2', 'B3', 'B4', 'B5', 'B6', 'B7','B11','B12'];
// The name of the property on the points storing the class label.
var classProperty = 'snow';

// Sample the composite to generate training data.  Note that the
// class label is stored in the 'landcover' property.
var training = im.select(bands).sampleRegions({
  collection: snowcover,
  properties: [classProperty],
  scale: 30
});

Map.centerObject(snowcover);

// Optionally, do some accuracy assessment.  Fist, add a column of
// random uniforms to the training dataset.
var withRandom = training.randomColumn('random');

// We want to reserve some of the data for testing, to avoid overfitting the model.
var split = 0.7;  // Roughly 70% training, 30% testing.
var trainingPartition = withRandom.filter(ee.Filter.lt('random', split));
var testingPartition = withRandom.filter(ee.Filter.gte('random', split));

// Trained with 70% of our data.
var trainedClassifier = ee.Classifier.smileGradientTreeBoost(2,0.5,1).train({
  features: trainingPartition,
  classProperty: classProperty,
  inputProperties: bands
});

// Classify the test FeatureCollection.
var train = trainingPartition.classify(trainedClassifier);
var test = testingPartition.classify(trainedClassifier);

var classified = im.classify(trainedClassifier);
Map.addLayer(classified,{min:0,max:1,palette:['red','blue']},'Snowcover map');

// Print the confusion matrix.
var trconfusionMatrix = train.errorMatrix(classProperty, 'classification');
print('Training Confusion Matrix', trconfusionMatrix);
var confusionMatrix = test.errorMatrix(classProperty, 'classification');
print('Testing Confusion Matrix', confusionMatrix);

//Accuracy assesment
var total = training.classify(trainedClassifier);
var acc = total.errorMatrix(classProperty, 'classification').accuracy();
print('Training accurcy is:',trconfusionMatrix.accuracy())
print('Testing accurcy is:',confusionMatrix.accuracy())
print('Total accurcy is:',acc);

//print('Hello'); //just error checking,comment it after check success.

// Export the FeatureCollection to a CSV file.
//Export.table.toDrive({
//  collection: snowcover,
//  description:'Snowcover map for 16 to 31 Jan 2018',
//  fileFormat: 'GeoJSON'
//});